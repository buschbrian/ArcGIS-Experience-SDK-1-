System.register(["jimu-core","jimu-arcgis","jimu-ui","esri/core/reactiveUtils","esri/layers/MapImageLayer"],(function(e,t){var r={},n={},a={},l={},i={};return{setters:[function(e){r.React=e.React},function(e){n.JimuMapViewComponent=e.JimuMapViewComponent,n.MapViewManager=e.MapViewManager},function(e){a.Dropdown=e.Dropdown,a.DropdownButton=e.DropdownButton,a.DropdownItem=e.DropdownItem,a.DropdownMenu=e.DropdownMenu,a.Icon=e.Icon},function(e){l.default=e.default},function(e){i.default=e.default}],execute:function(){e((()=>{var e={3489:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><path fill="#000" fill-rule="evenodd" d="M10.226.054a.496.496 0 0 0-.451 0L.25 4.942a.446.446 0 0 0 .025.813L9.8 9.958a.497.497 0 0 0 .4 0l9.524-4.203a.446.446 0 0 0 .025-.813L10.226.054ZM10 9.044 1.542 5.313 10 .97l8.458 4.34L10 9.046Z" clip-rule="evenodd"></path><path fill="#000" d="M.676 10.04a.493.493 0 0 0-.632.216c-.11.22-.006.482.232.585L10 15l9.724-4.16c.238-.102.342-.363.232-.584a.493.493 0 0 0-.632-.215L10 14.029.676 10.041Z"></path><path fill="#000" fill-rule="evenodd" d="M.676 15.04a.493.493 0 0 0-.632.216c-.11.22-.006.482.232.585L10 20l9.724-4.16c.238-.102.342-.363.232-.584a.493.493 0 0 0-.632-.215L10 19.029.676 15.041ZM10 19.03l.2.085h-.4l.2-.086Z" clip-rule="evenodd"></path></svg>'},3622:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M2.153 13.146a.485.485 0 0 0 0 .708.538.538 0 0 0 .738 0l5.956-5.5a.485.485 0 0 0 0-.708l-5.956-5.5a.538.538 0 0 0-.738 0 .485.485 0 0 0 0 .708L7.74 8l-5.587 5.146Zm5 0a.485.485 0 0 0 0 .708.538.538 0 0 0 .738 0l5.956-5.5a.485.485 0 0 0 0-.708l-5.956-5.5a.538.538 0 0 0-.738 0 .485.485 0 0 0 0 .708L12.74 8l-5.587 5.146Z" clip-rule="evenodd"></path></svg>'},135:e=>{"use strict";e.exports=l},9779:e=>{"use strict";e.exports=i},6826:e=>{"use strict";e.exports=n},8891:e=>{"use strict";e.exports=r},726:e=>{"use strict";e.exports=a}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="";var c={};return o.p=window.jimuConfig.baseUrl,(()=>{"use strict";o.r(c),o.d(c,{__set_webpack_public_path__:()=>g,default:()=>w});var e=o(8891),t=o(6826),r=o(726),n=o(135),a=o(9779),l=o(3489),i=o.n(l),s=o(3622),u=o.n(s);const d=[{mapId:"recreation",title:"Recreation",url:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/Recreation/MapServer",activeOnLoad:!0},{mapId:"military",title:"Military",url:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/Military/MapServer"},{mapId:"usa",title:"USA",url:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/USA/MapServer",activeOnLoad:!0},{mapId:"wildfire",title:"Wildfire",url:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/Wildfire/FeatureServer"},{mapId:"earthquakes",title:"Earthquakes Since 1970",url:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/Earthquakes_Since1970/MapServer"}],p=[{name:"Travel",layers:[d[2],d[0]]},{name:"Disasters",layers:[d[3],d[4]]}],{useState:m,useEffect:f,useRef:v}=e.React,w=l=>{var o;const c=t.MapViewManager.getInstance(),s=c.getJimuMapViewById(c.getAllJimuMapViewIds()[0]),[w,g]=m(s),[h,M]=m(p[0]);let y=[];f((()=>{for(let e=0;e<d.length;e++)d[e].activeOnLoad&&y.push(d[e])}),[]),f((()=>{w&&n.default.whenOnce((()=>w.view.ready)).then((()=>{for(let e=0;e<I.length;e++)for(let t=0;t<d.length;t++)if(I[e]===d[t]){x(d[t]);break}}))}),[w]);const[I,R]=m(y),D=v([]),E=v([]),x=e=>{const t=new a.default({url:e.url,id:e.mapId,title:e.title});w.view.map.add(t)},L=()=>{for(let e=0;e<E.current.length;e++){const t=w.view.map.findLayerById(E.current[e].mapId);w.view.map.remove(t)}};return e.React.createElement("div",{className:"jimu-widget"},l.useMapWidgetIds&&1===l.useMapWidgetIds.length&&e.React.createElement(t.JimuMapViewComponent,{useMapWidgetId:null===(o=l.useMapWidgetIds)||void 0===o?void 0:o[0],onActiveViewChange:e=>{e&&g(e)}}),e.React.createElement(r.Dropdown,{fluid:!0,activeIcon:!0},e.React.createElement(r.DropdownButton,{block:!0,type:"link"},e.React.createElement(r.Icon,{icon:i()}),"Add/Remove Layers"),e.React.createElement(r.DropdownMenu,null,e.React.createElement(r.DropdownItem,{header:!0},"Select By Group"),p.map(((t,n)=>{let a=!1;return h&&t.name===h.name&&(a=!0),e.React.createElement(r.DropdownItem,{active:a,onClick:()=>((e,t,r)=>{let n=[];if(r)D.current=[],E.current=d.filter((function(t){return e.layers.includes(t)})),M(null);else{const r=e.layers.filter((function(e){return!I.includes(e)}));n=e.layers.filter((function(e){return I.includes(e)})),D.current=d.filter((function(e){return r.includes(e)})),E.current=d.filter((function(t){return!e.layers.includes(t)})),M(p[t])}L();for(let e=0;e<D.current.length;e++)x(D.current[e]),n.push(D.current[e]);R(n)})(t,n,a)},t.name)})),e.React.createElement(r.DropdownItem,{divider:!0}),e.React.createElement(r.DropdownItem,{header:!0},"All Layers"),e.React.createElement(r.Dropdown,{fluid:!0,direction:"right",activeIcon:!0},e.React.createElement(r.DropdownButton,{block:!0,arrow:!1,icon:!0},e.React.createElement("div",{className:"d-flex justify-content-between w-100"},e.React.createElement("span",{className:"flex-fill"},"Add/Remove Single Layers"),e.React.createElement(r.Icon,{icon:u()}))),e.React.createElement(r.DropdownMenu,null,d.map((t=>{let n=!1;for(let e=0;e<I.length;e++)if(t===I[e]){n=!0;break}return e.React.createElement(r.DropdownItem,{active:n,onClick:()=>((e,t)=>{if(t)R(I.filter((t=>t!==e))),E.current=[e],L();else{const t=[...I,e];R(t),x(e)}M(null)})(t,n)},t.title)})))))))};function g(e){o.p=e}})(),c})())}}}));